主要程序逻辑都在这里
