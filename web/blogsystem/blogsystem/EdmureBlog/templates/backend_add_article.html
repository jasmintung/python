{% extends 'backend_layout.html' %}

{% block css %}
    <link rel="stylesheet" href="/static/plugins/kindeditor/themes/default/default.css"/>
    <style>
        .content_css {
            width: 100%;
            min-height:500px;
            visibility:hidden;
        }
    </style>
{% endblock %}

{% block conent %}
    <ol class="breadcrumb" style="margin-bottom: 0;">
        <li><a href="#">文章管理</a></li>
        <li class="active">创建文章</li>
    </ol>
    <div style="padding: 5px 8px;">
        <form action="/backend/add-article.html" method="POST">
            {% csrf_token %}
            <!--input type="text" style="display: none" name="blog_id" value={{ atc_obj.blog }}-->
            <div class="form-group">
            <label for="title">标题</label>
            <!--input type="text" class="form-control" id="title" placeholder="文章标题"-->
            {{ atc_obj.title }}
            </div>
            <div class="form-group">
                <label for="title">简介</label>
                <!--textarea class="form-control" placeholder="文章简介"></textarea-->
                {{ atc_obj.summary }}
            </div>
            <div class="form-group">
                <label for="content">内容</label>
                <textarea name="content" style="width: 100%;min-height:500px;visibility:hidden;"></textarea>
            </div>
            <div class="form-group">
                <label for="article_type">类型</label>

                <div>
                    <label class="radio-inline">
                        <input type="radio" name="article_type" value=1> Python
                    </label>
                    <label class="radio-inline">
                        <input type="radio" name="article_type" value=2> Linux
                    </label>
                    <label class="radio-inline">
                        <input type="radio" name="article_type" value=3> OpenStack
                    </label>
                    <label class="radio-inline">
                        <input type="radio" name="article_type" value=4> GoLang
                    </label>
                </div>

            </div>
            <div class="form-group">
                <label for="category">分类</label>
                <div>
                    {% for row in cat_obj %}
                    <label class="radio-inline">
                        <input type="radio" name="category" value={{ row.nid }}> {{ row.title }}
                    </label>
                    {% endfor %}
                </div>
            </div>
            <div class="form-group">
                <label for="tags">标签</label>
                <div>
                    {% for row in tag_obj %}
                    <label class="checkbox-inline">
                        <input type="checkbox" name="tags" id={{ row.nid }} value={{ row.nid }}> {{ row.title }}
                    </label>
                    {% endfor %}
                </div>
            </div>
            <div class="form-group">
                <button type="submit" class="btn btn-primary">保 存</button>
            </div>
        </form>
    </div>
{% endblock %}

{% block js %}
    <script charset="utf-8" src="/static/plugins/kindeditor/kindeditor-min.js"></script>
    <script charset="utf-8" src="/static/plugins/kindeditor/lang/zh_CN.js"></script>
    <script>
        var editor;
        KindEditor.ready(function (K) {
            editor = K.create('textarea[name="content"]', {
                resizeType: 1,
                uploadJson: '/on.asp',
                fileManagerJson: '/asp/fjson.asp'
            });
        });
    </script>
{% endblock %}